# 任務管理工作流程

本文件說明專案的任務管理流程。

## 任務文件

| 文件 | 說明 |
|------|------|
| [TASKS.md](../tasks/TASKS.md) | 當前進行中的任務 |
| [TASKS_BACKLOG.md](../tasks/TASKS_BACKLOG.md) | 待辦/延後任務 |
| [TASKS_ARCHIVE.md](../tasks/TASKS_ARCHIVE.md) | 已完成任務歸檔 |

---

## 任務類型

| 類型 | 標記 | 說明 | 適用情境 |
|------|------|------|----------|
| 普通任務 | `[普通]` | 需要使用者互動、決策或確認 | 需求討論、設計決策、UI 調整 |
| 深夜任務 | `[深夜]` | Claude 可獨立完成 | 明確規格、重構、文件更新 |

### 深夜任務標準

任務必須符合以下所有條件才能標記為「深夜」：

- ✅ **獨立**：不需要使用者確認或決策
- ✅ **明確**：有清楚的完成標準
- ✅ **可驗證**：完成後可以透過測試或檢視確認結果
- ✅ **優先度中低**：不是緊急需要的功能

---

## 任務生命週期

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   Todo ──→ In Progress ──→ In Review ──→ Done              │
│     │                          │                            │
│     └──────────────────────────┴───→ Backlog (延後)         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 狀態說明

| 狀態 | 說明 | 觸發動作 |
|------|------|----------|
| Todo | 待開始 | 新任務建立 |
| In Progress | 進行中 | 開始開發 |
| In Review | 審查中 | 完成開發，等待確認 |
| Done | 完成 | 確認功能正常 |
| Backlog | 延後 | 暫不處理 |

---

## 任務格式

### TASKS.md 格式

```markdown
## 進行中

### [任務標題]

- **類型**：[普通] / [深夜]
- **優先級**：P0 / P1 / P2
- **狀態**：🔄 進行中
- **預估**：X 小時

#### 說明
任務的詳細說明...

#### 驗收標準
- [ ] 標準 1
- [ ] 標準 2

---
```

### 任務分類

| 優先級 | 說明 | 處理時機 |
|--------|------|----------|
| P0 | 阻塞性問題 | 立即處理 |
| P1 | 重要功能 | 當前迭代 |
| P2 | 一般任務 | 有空處理 |
| P3 | 優化項目 | Backlog |

---

## Claude 執行任務

### 請求格式

```
請執行深夜任務清單中的第 N 項任務
```

### 執行流程

1. Claude 讀取 TASKS.md 中的指定任務
2. 確認任務符合「深夜任務標準」
3. 執行任務
4. 更新任務狀態
5. 發送 Telegram 通知（如已設定）

### 完成通知

任務完成後應包含：
- 完成的任務名稱
- 主要變更摘要
- 檔案變更清單
- 測試結果（如適用）

---

## 每日工作流程

### 開始工作

1. 檢視 TASKS.md 了解當前任務
2. 選擇要處理的任務
3. 更新任務狀態為「進行中」

### 完成任務

1. 完成開發與測試
2. 更新任務狀態為「完成」
3. 將任務移至 TASKS_ARCHIVE.md（每週整理）
4. 檢查是否有相關文件需要更新

### 每週整理

1. 將已完成任務歸檔至 TASKS_ARCHIVE.md
2. 審視 TASKS_BACKLOG.md 是否有任務可移入
3. 更新進度（如有）
