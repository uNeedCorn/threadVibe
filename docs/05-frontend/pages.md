# 頁面清單

## 頁面架構

```
app/
├── (public)/                    # 公開頁面
│   └── login/page.tsx           # 登入頁（首頁）
│
├── (auth)/                      # 需登入
│   ├── layout.tsx               # 帶 Sidebar 的 Layout
│   │
│   ├── dashboard/
│   │   └── page.tsx             # Dashboard 首頁
│   │
│   ├── posts/
│   │   ├── page.tsx             # 貼文列表
│   │   └── [id]/page.tsx        # 貼文詳情
│   │
│   ├── insights/
│   │   └── page.tsx             # 帳號 Insights
│   │
│   ├── settings/
│   │   └── page.tsx             # 設定頁（單頁式）
│   │
│   └── admin/                   # System Admin
│       ├── page.tsx             # Admin Dashboard
│       ├── workspaces/page.tsx  # 所有 Workspace
│       └── sync/page.tsx        # 同步監控
│
├── auth/
│   └── callback/route.ts        # OAuth Callback
│
└── api/                         # API Routes
    └── threads-oauth/route.ts   # Threads OAuth
```

---

## 公開頁面

### 登入頁 `/login`（首頁）

> 未登入用戶直接導向此頁面，不需 Landing Page。

| 元素 | 說明 |
|------|------|
| 產品 Logo | 品牌識別 |
| 產品名稱 + 標語 | 簡短價值主張 |
| Google 登入按鈕 | 唯一登入方式 |
| 簡短說明 | 登入後可做什麼 |
| 條款連結 | 隱私政策、服務條款 |

**登入後導向邏輯：**
- 已連結 Threads 帳號 → `/dashboard`
- 未連結 Threads 帳號 → `/settings`（引導連結帳號）

---

## 主要介面 Layout

需登入頁面共用的 Layout 結構（桌面版）：

```
┌─────────────────────────────────────────────────────┐
│ Header                              [頭像 ▼] 登出   │
├────────────┬────────────────────────────────────────┤
│  Logo      │                                        │
│ ┌────────┐ │                                        │
│ │WS 切換 │ │  （有 Workspace 時才顯示）              │
│ └────────┘ │                                        │
│ ────────── │            內容區域                     │
│ Dashboard  │                                        │
│ 貼文       │                                        │
│ Insights   │                                        │
│            │                                        │
│            │                                        │
│ ────────── │                                        │
│ 設定       │  ← 固定在底部                          │
└────────────┴────────────────────────────────────────┘
```

| 區域 | 說明 |
|------|------|
| Header | 簡潔版：用戶頭像下拉 + 登出按鈕 |
| Sidebar 頂部 | Logo |
| Workspace 切換 | 有 Workspace 時顯示，無則隱藏 |
| Sidebar 導航 | Dashboard / 貼文 / Insights |
| Sidebar 底部 | 設定（固定在最下方，有分隔線） |
| 內容區域 | 各頁面內容 |

**備註：** 僅支援桌面版，不做響應式設計

---

## 需登入頁面

### Dashboard `/dashboard`

**多帳號呈現方式：** 混合式（總覽 + 帳號切換）

```
┌─ 頂部 ─────────────────────────────────┐
│ KPI 總覽卡片（聚合數字，快速掌握全局）    │
├─ 中間 ─────────────────────────────────┤
│ 帳號切換 Tab：[全部] [@acc1] [@acc2]    │
│ - 全部：多線對比圖                      │
│ - 單一帳號：該帳號詳細趨勢 + Top 貼文    │
├─ 底部 ─────────────────────────────────┤
│ 最新貼文列表（所有帳號混合，標註來源）    │
└─────────────────────────────────────────┘
```

| 區塊 | 說明 | 資料來源 |
|------|------|----------|
| KPI Cards | 粉絲數、總互動、總貼文（聚合所有帳號） | Account Insights, Posts |
| 帳號 Tab | 切換「全部」或單一帳號視圖 | - |
| 趨勢圖 | 全部：多帳號對比 / 單一：該帳號趨勢 | Post Metrics |
| Top 貼文 | 依選擇的帳號篩選 | Posts + Metrics |
| 最新貼文 | 所有帳號混合，標註來源帳號 | Posts |

### 貼文列表 `/posts`

**列表樣式：** 表格式 + 無限捲動

**顯示欄位：**

| 欄位 | 說明 |
|------|------|
| 內容預覽 | 文字截斷顯示 |
| 媒體縮圖 | 圖片/影片縮圖 |
| 帳號名稱 | 來源 Threads 帳號（多帳號區分） |
| 發布時間 | 貼文發布時間 |
| Views | 觀看數 |
| Likes | 按讚數 |
| Replies | 回覆數 |
| Reposts | 轉發數 |
| Quotes | 引用數 |
| 最後更新 | 成效數據同步時間 |

**篩選功能：**

| 篩選 | 選項 |
|------|------|
| 時間範圍 | 7天 / 30天 / 自訂 |
| 帳號 | 多帳號時選擇來源帳號 |
| 媒體類型 | 全部 / 文字 / 圖片 / 影片 |

**排序功能：**
- 發布時間（預設）
- Views / Likes / Replies / Reposts / Quotes（各項指標皆可排序）

### 貼文詳情 `/posts/[id]`

| 區塊 | 說明 |
|------|------|
| 貼文內容 | 文字、媒體 |
| 成效數據 | Views, Likes, Replies... |
| 趨勢圖 | 成效變化曲線 |
| Threads 連結 | 開啟原始貼文 |

### 帳號 Insights `/insights`

| 區塊 | 說明 |
|------|------|
| 粉絲數 | 當前數量 + 成長趨勢 |
| 受眾輪廓 | 性別、年齡、地區圖表 |

### 設定頁 `/settings`

**頁面結構：** 單頁式，區塊分隔

---

#### 區塊 1：Threads 帳號管理

> 支援多帳號連結

| 功能 | 說明 |
|------|------|
| 帳號列表 | 顯示已連結的帳號、頭像、名稱 |
| Token 狀態 | 有效 / 過期 / 無效 |
| 連結帳號 | 按鈕觸發 Threads OAuth |
| 重新授權 | Token 失效時可重新授權 |
| 解除連結 | 移除帳號連結 |

---

#### 區塊 2：Workspace 設定

| 功能 | 說明 |
|------|------|
| 名稱編輯 | 修改 Workspace 名稱 |

---

#### 區塊 3：成員管理

| 功能 | 說明 |
|------|------|
| 成員列表 | 姓名、角色、加入時間 |
| 邀請成員 | 輸入 Email、選擇角色 |
| 變更角色 | Owner 可操作 |
| 移除成員 | Owner 可操作 |

---

#### 區塊 4：危險區域

| 功能 | 說明 |
|------|------|
| 刪除 Workspace | 軟刪除，需二次確認 |

---

## Admin 頁面

### Admin Dashboard `/admin`

| 區塊 | 說明 |
|------|------|
| 系統統計 | 總 Workspace、總用戶 |
| 同步狀態 | 成功/失敗率 |

### Workspace 列表 `/admin/workspaces`

| 功能 | 說明 |
|------|------|
| 列表 | 所有 Workspace |
| 搜尋 | 依名稱搜尋 |
| 詳情 | 成員、帳號數 |

### 同步監控 `/admin/sync`

| 功能 | 說明 |
|------|------|
| 任務列表 | 最近的同步任務 |
| 狀態篩選 | 成功/失敗 |
| 錯誤詳情 | 失敗原因 |

---

## 頁面狀態

| 狀態 | 處理方式 |
|------|----------|
| Loading | Skeleton / Spinner |
| Empty | Empty State 插圖 + CTA |
| Error | 錯誤訊息 + 重試按鈕 |
